<!DOCTYPE html> 
<html lang ="en"> 
    <head> 
        <meta charset ="utf-8"> 
        <title>{{title}}</title> 
        <link rel = "stylesheet" href="/public/css/site.css"> 
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    </head> 
    <body> 
        {{{body}}} 
        <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
        crossorigin="anonymous"></script>
        <script src="/public/js/form.js"></script>
        {{!-- <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script> --}}
        {{!-- <script src="/public/js/form.js"></script> --}}
        <script>
  $('.like').each((index, elem) => {
      console.log(elem);
    $(elem).click((event) => {
      event.preventDefault();
      console.log(event);
      let link = event.target.href
      console.log(link);
      let requestConfig = {
        method: 'POST',
        url: link
      }
      $.ajax(requestConfig).then((message) => {
          console.log(elem)
          $(elem).parent().parent().find('#likeCount').text(message.likeAdded);
      });
    })
  })


    $('.interested').each((index, elem) => {
      console.log(elem);
    $(elem).click((event) => {
      event.preventDefault();
      console.log(event);
      let link = event.target.href
      console.log(link);
      let requestConfig = {
        method: 'POST',
        url: link
      }
      $.ajax(requestConfig).then((message) => {
          console.log(elem)
          $(elem).parent().parent().find('#interestedCount').text(message.interestedAdded);
      });
    })
  })


    $('.going').each((index, elem) => {
      console.log(elem);
    $(elem).click((event) => {
      event.preventDefault();
      console.log(event);
      let link = event.target.href
      console.log(link);
      let requestConfig = {
        method: 'POST',
        url: link
      }
      $.ajax(requestConfig).then((message) => {
          console.log(elem)
          $(elem).parent().parent().find('#going').text(message.goingAdded);
      });
    })
  })
</script>

    </body>
</html> 
